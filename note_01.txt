1.项目安排
 总时间12天
 项目开发：7天
 其他知识点：5天

 实现任务的方法
 错误调试方法
 测试方法
 学习方法

2.云笔记
笔记管理系统

功能：
   用户登录、注册、修改密码、退出
   笔记本管理（添加、修改、删除、查看）
   笔记管理（添加、修改、删除、查看、转移、
             分享、收藏）
   回收站管理（查看、恢复、删除）
   收藏夹管理（查看、取消收藏）
   分享管理（查看、取消分享）
   笔记搜索
   活动管理：（查看、参加活动、查看活动笔记）
3.开发涉及技术
Spring Web MVC ：便于快速开发MVC结构的Web程序
        主要负责接收请求分发处理
Spring IOC ：创建对象管理对象关系(解耦)
Spring AOP(后续讲) ：事务管理
MyBatis : 访问数据库
jQuery ：js框架，简化js开发
Ajax : 异步请求处理,页面局部刷新

4.设计思想
a.分层开发(4层)
 表现层 : html（js+ajax） (V)
 控制层 : Controller (SpringMVC的C)
 业务层 : Service (M)
 数据处理层 ： DAO (M)

b.界面和服务器交互模式
HTML界面--Ajax发请求-->Server(Controller,Service,Dao)
JS解析JSON更新页面<--返回JSON--

c.JSON传输格式
 Server处理完必须返回JSON结果;
 返回JSON结果的格式必须如下：
 {
   status:"处理状态",
   msg:"消息",
   data:返回的数据
 }
 
//把NoteResult转成json输出
 public class NoteResult {
    private int status;
    private String msg;
    private Object data;
 }

5.项目开发环境
 MyEclipse 
 JDK6.0
 Tomcat6





 MySQL5.x

a.MySQL导入数据库sql
 set names utf8;
 source ...sql文件路径;

b.搭建note项目工程
--引入开发jar包
  spring mvc
  spring ioc
  mybatis,mysql驱动
  spring aop,dao
  dbcp
  mybatis-spring.jar
--引入配置文件
  src/applicationContext.xml


6.登录功能
 
a.设计处理流程

1)发送ajax请求
 点击登录按钮获取用户名和密码,发送ajax请求
 
//jQuery对象选择和查找 
$("#id属性")
$(".class属性")
$("元素名称")
$("#emp_list tr")
jquery对象.find("#id属性")
jquery对象.parent()
jquery对象.next()
//事件函数
click();//触发单击处理
click(fn);//绑定单击处理
mouseover()
mouseout()
dbclick()
blur()
focus()
change()
bind("click",fn);
unbind("click");
给现有或未来元素绑定
jquery对象.on("click",选择器,fn)

//属性获取
text()/text(msg) //对div,span元素操作
html()/html(msg) //对div,span元素操作
val()/val(msg) //对表单组件操作
addClass("xxx") //对class属性添加
removeClass("xxx")//对class属性移除
attr("属性名",属性值)
attr("属性名")
data("属性名",属性值)//给元素绑定一个值
data("属性名");


2)调用后台处理
/user/login.form(ajax 传递登录名和密码)
-->DispatcherServlet(web.xml-->applicationContext.xml)
-->handlerMapping 
-->LoginController.execute
-->UserService.checkLogin()
-->UserDao->cn_user(select)
-->调用jackson.jar将LoginController
  返回NoteResult值转成JSON输出


3)ajax回调函数处理
ajax回调函数解析json结果更新页面

4)实现第2步的处理
 --实现UserDao（Spring+Mybatis）
   根据cn_user表编写实体类
   定义SQL语句XML
   定义UserDao（Mapper）接口
   配置UserDao组件(dbcp,sqlsessionfactory,mapperscannerconfigurer)
   测试UserDao
 --实现UserService
   测试UserService
 --实现LoginController
   测试LoginController
 --配置整体处理流程
   用浏览器发请求测试



org.tarena.web.controller.user
org.tarena.web.controller.book
org.tarena.web.controller.note

====密码加密处理=======
密码采用md5算法处理

=========客户端登陆检查==========
a.首先登陆成功,生成令牌将信息返回给ajax请求
b.然后ajax请求回调函数将令牌和userID写入Cookie
c.在其他html页面,读取Cookie信息,没有信息就跳转
 到log_in.html登陆页面







      








